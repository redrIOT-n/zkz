TODO proper way to handle signals

